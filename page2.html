<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Happy Birthday Abel ðŸ˜Š</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Audio element -->
    <audio id="backgroundAudio" preload="auto" loop>
        <source src="hbddddddd.mp3" type="audio/mpeg">
    </audio>
    
    <!-- Audio control button - Icon only -->
    <button class="audio-control" id="audioToggle">ðŸ”‡</button>
    <div class="audio-indicator" id="audioIndicator">Music: Off</div>

    <div>
        <li class="kosongan"></li>    
    </div>
    
    <div class="card">
        <div class="flower-small flower-top-right"></div>
        <div class="flower-small flower-bottom-left"></div>
        <img src="foto2.jpg" class="kedua"/>
        <ul>
            <li class="header">Happy Birthday Abelll!</li>
            <li class="isi1">
                <div class="text-content">
                    Ummm, i don't know how to start this letter.
                    How's ur day? seems like u're struggling a lot lately.
                    Maybe i don't know that much about you, but i hope that u can go easy on ur self.
                    Well, actually i wanna tell u something about that night when we have a convo at my room.
                    Still remember how u talk to me that night? The way u said everything to me.
                    At that point, aku dapet gambaran jauh masuk ke matamu.
                    Ada anak kecil yang duduk meringkuk menangis sendirian di tengah gelapnya kehampaan yang disorot lampu panggung.
                    Kurasa yang kulihat kali ini bukan sekedar matamu, namun jauh kedalam hati kecilmu.
                    Kurasa aku ga pantes buat menafsirkan apa yang kulihat saat itu.
                    I don't know if it's true or not, but i feel so bad after seing that.<br><br>
                    If u wanna know, u're one of my role model since i was 10th grader.
                    It's been a long time huh? All i see was just ur shining light.
                    Tapi bak kata pepatah, "The brighter the light, the darker the shadow".
                    Semakin kesini kulihat semua "cahaya" yang kamu bisa achieve itu dibayar dengan harga yang mahal.
                    There's a lot of thing that i feel that i can't describe it with words after seeing all what u do.
                    Perjalananmu ga mulus, jalan hidupmu penuh dengan "kegilaan".
                    Kurasa ga semua orang bisa hidup jadi dirimu. U're one of a kind person that i know.
                    So, i hope u're not going to hard to ur self again after this.
                    Karena banyak yang menjadi gila bukan karena lemah, tapi terlalu kuat sendirian.
                </div>
                <a href="page3.html">please read next</a>
            </li>
        </ul>
    </div>
    
    <div>
        <li class="kosongan"></li>    
    </div>

    <script>
        // Audio management - Fixed version
        const audio = document.getElementById('backgroundAudio');
        const audioToggle = document.getElementById('audioToggle');
        const audioIndicator = document.getElementById('audioIndicator');
        
        let isPlaying = false;
        let hasInteracted = false;
        
        // Function to play audio
        function playAudio() {
            audio.play().then(() => {
                isPlaying = true;
                audioToggle.innerHTML = 'ðŸ”Š';
                showIndicator('Music: Playing');
            }).catch(error => {
                console.log('Audio play failed:', error);
                audioToggle.innerHTML = 'ðŸ”‡';
                showIndicator('Click to enable audio');
            });
        }
        
        // Function to pause audio
        function pauseAudio() {
            audio.pause();
            isPlaying = false;
            audioToggle.innerHTML = 'ðŸ”‡';
            showIndicator('Music: Paused');
        }
        
        // Show indicator with auto hide
        function showIndicator(message) {
            audioIndicator.innerHTML = message;
            audioIndicator.style.display = 'block';
            setTimeout(() => {
                audioIndicator.style.display = 'none';
            }, 2000);
        }
        
        // Handle first user interaction
        function handleFirstInteraction() {
            if (!hasInteracted) {
                hasInteracted = true;
                playAudio();
            }
        }
        
        // Event listeners for first interaction
        document.addEventListener('click', function(e) {
            if (e.target !== audioToggle && !hasInteracted) {
                handleFirstInteraction();
            }
        });
        
        document.addEventListener('keydown', function(e) {
            if (!hasInteracted) {
                handleFirstInteraction();
            }
        });
        
        // Audio toggle button
        audioToggle.addEventListener('click', function() {
            if (!hasInteracted) {
                handleFirstInteraction();
                return;
            }
            
            if (isPlaying) {
                pauseAudio();
            } else {
                playAudio();
            }
        });
        
        // Handle audio events
        audio.addEventListener('play', function() {
            isPlaying = true;
            audioToggle.innerHTML = 'ðŸ”Š';
        });
        
        audio.addEventListener('pause', function() {
            isPlaying = false;
            audioToggle.innerHTML = 'ðŸ”‡';
        });
        
        audio.addEventListener('ended', function() {
            isPlaying = false;
            audioToggle.innerHTML = 'ðŸ”‡';
        });
        
        // Try to autoplay on page load (will likely be blocked by browser)
        document.addEventListener('DOMContentLoaded', function() {
            audio.play().then(() => {
                hasInteracted = true;
                isPlaying = true;
                audioToggle.innerHTML = 'ðŸ”Š';
            }).catch(() => {
                // Autoplay blocked, wait for user interaction
                showIndicator('Click anywhere to start music');
            });
        });
    </script>
</body>
</html>